{"version":3,"sources":["styles.js","utils.js","MissionsTable.js","Modale.js","Password.js","App.js","index.js"],"names":["GlobalStyle","createGlobalStyle","Container","styled","div","hideCellsCss","css","Table","props","hideCells","rowHeaderCss","rowFooterCss","rowCss","TableRow","header","footer","columnHeaderCss","TableCell","flex","Buttons","BigButton","button","highlight","Input","input","restricted","alignRight","Unit","span","computeDurationInHours","duration","Number","split","hoursInDuration","hours","digits","truncatedHours","Math","trunc","minutesInHours","round","computeFacturable","included","revient","hoursPerDay","window","localStorage","getItem","newMission","vente","mission","MissionsTable","state","missions","JSON","parse","captureClient","addMission","setState","length","handleDelete","index","filter","_","ind","save","handleIncluded","e","target","value","map","handleChangeField","persist","dataset","label","setItem","stringify","handleCancelEvent","preventDefault","stopPropagation","toggleCaptureClient","this","onClick","changeHoursPerDay","data-type","nom","onDelete","deleteColor","deleteText","height","key","as","type","checked","onChange","data-index","data-label","factor","utils","reduce","summedHours","total","facturable","replace","React","Component","Modale","initValue","handleChange","handleClick","onRemoveModal","handleCancel","placeholder","background","title","ModaleStyled","Alert","Title","autoFocus","onSubmit","defaultProps","form","Password","handlePasswordChange","password","process","md5","removeModal","App","showPassword","showHoursPerDay","removePassword","showChangeHoursPerDay","hideChangeHoursPerDay","onRemoveModaloread","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.31b24915.chunk.js","sourcesContent":["import styled, { css, createGlobalStyle } from 'styled-components'\n\nconst GlobalStyle = createGlobalStyle`\n  body, html {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    font-family: sans-serif;\n    color: black;\n  }\n  #root * {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-sizing: border-box;\n    font-size: 16px;\n  }\n`\n\nexport const Container = styled.div`\n  flex-direction: column;\n  justify-content: flex-start;\n  padding: 20px;\n  height: 100%;\n  width: 100%;\n`;\n\nconst hideCellsCss = css`\n  * [data-type=\"check\"] { display: none !important; }\n  * [data-type=\"revient\"] { display: none !important; }\n  * [data-type=\"duration\"] { display: none !important; }\n`;\n\nexport const Table = styled.div`\n  height: 100%;\n  width: 100%;\n  max-width: 1000px;\n  flex-direction: column;\n  overflow: hidden;\n  #delete-container {\n    width: 100%;\n    overflow: hidden;\n  }\n  #delete-content {\n    width: 100%;\n    background: white;\n  }\n  ${props => props.hideCells && hideCellsCss}\n`;\n\nconst rowHeaderCss = css`\n  border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd;\n  * {\n    color: white;\n    font-weight: bold;\n    background: #137102 !important;\n    border-left: none !important;\n    border-right: none !important;\n  }\n`;\n\nconst rowFooterCss = css`\n  border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd;\n  * {\n    color: white;\n    font-weight: bold;\n    background: #24b100 !important;\n    border-left: none !important;\n    border-right: none !important;\n  }\n`;\n\nconst rowCss = css`\n  border-bottom: 1px solid #ddd;\n  & > * {\n    & ~ * {\n      border-left: 1px solid #ddd;\n    }\n    &:first-of-type {\n      border-left: 1px solid #ddd;\n    }\n    &:last-of-type {\n      border-right: 1px solid #ddd;\n    }\n  }\n`\n\nexport const TableRow = styled.div`\n  width: 100%;\n  overflow: hidden;\n  ${props => props.header && rowHeaderCss}\n  ${props => props.footer && rowFooterCss}\n  ${rowCss}\n`;\n\nconst columnHeaderCss = css`\n  background: #929292;\n  color: white;\n`;\n\nexport const TableCell = styled.div`\n  flex-grow: ${props => props.flex || 1};\n  flex-shrink: 0;\n  padding: 5px;\n  min-height: 50px;\n  flex-basis: auto;\n  text-align: center;\n  border-top: 1px solid #ddd;\n\n  &[data-type=\"check\"] {\n    flex: 8;\n    ${columnHeaderCss}\n  }\n  &[data-type=\"mission\"] {\n    flex: 25;\n    ${columnHeaderCss}\n  }\n  &[data-type=\"duration\"] {\n    flex: 12;\n  }\n  &[data-type=\"vente\"] {\n    flex: 15;\n  }\n  &[data-type=\"revient\"] {\n    flex: 15;\n  }\n  &[data-type=\"calcul-duree\"] {\n    flex: 15;\n  }\n  &[data-type=\"calcul-revient\"] {\n    flex: 15;\n  }\n`;\n\nexport const Buttons = styled.div``;\n\nexport const BigButton = styled.button`\n  background: ${props => props.highlight ? 'white' : '#24b100'};\n  color: ${props => props.highlight ? '#24b100' : 'white'};\n  border: 2px solid #24b100;\n  font-size: 18px;\n  font-weight: bold;\n  border-radius: 40px;\n  padding: 8px 20px;\n  margin-bottom: 40px;\n  &:not(:first-of-type) {\n    margin-left: 10px;\n  }\n`\n\nexport const Input = styled.input`\n  background: transparent;\n  height: 100%;\n  border: none;\n  width: ${props => props.restricted ? '50px' : 'auto'};\n  flex-grow: 0;\n  flex-shrink: 1;\n  text-align: ${props => props.alignRight ? 'right' : 'center'};\n`\n\nexport const Unit = styled.span`\n  flex-shrink: 0;\n`;\n\nexport default GlobalStyle;\n","\nconst hoursSeparator = 'h'\n\nconst computeDurationInHours = duration => Number(duration.split(hoursSeparator)[0]) + Number(duration.split(hoursSeparator)[1] / 60)\n\nconst makeSureTwoDigits = digits => digits < 10 ? `0${digits}` : digits\n\nconst hoursInDuration = hours => {\n  const truncatedHours = Math.trunc(hours);\n  const minutesInHours = makeSureTwoDigits(Math.round((hours - truncatedHours) * 60))\n  return `${truncatedHours}${hoursSeparator}${minutesInHours}`\n}\n\nexport const computeTotalDuration = missions => {\n  const hours = missions.reduce(\n    (summedHours, { duration, included }) => {\n      if (!included) return summedHours\n      if (!duration) return summedHours\n      return summedHours + computeDurationInHours(duration)\n    }, 0\n  )\n  return hoursInDuration(hours)\n};\n\nexport const computeRevientDuration = ({ vente, revient, duration }) => {\n  if (!duration) return ''\n  const hours = computeDurationInHours(duration)\n  const factor = revient / vente\n  if (!factor) return duration\n  return hoursInDuration(hours * factor)\n}\n\nexport const computeTotalRevientDuration = missions => {\n  const hours = missions.reduce(\n    (summedHours, { duration, included, revient, vente }) => {\n      if (!included) return summedHours\n      if (!duration) return summedHours\n      const factor = revient / vente\n      if (!factor) return summedHours\n      return summedHours + computeDurationInHours(duration) * factor\n    }, 0\n  )\n  return hoursInDuration(hours)\n};\n\nexport const computeFacturable = ({ included, revient, duration }) => {\n  if (!duration) return ''\n  if (!included) return ''\n  const hoursPerDay = window.localStorage.getItem('hoursPerDay')\n  const facturable = Math.round(computeDurationInHours(duration) / hoursPerDay * revient)\n  return facturable + ' € HT'\n}\n\nexport const computeTotalFacturable = missions => missions.reduce((total, mission) => {\n  const facturable = computeFacturable(mission)\n  if (!facturable) return total\n  return total + Number(facturable.replace(' € HT', ''))\n}, 0)\n\n// export const computeVente = missions => missions.reduce((total, { included, vente, duration }) => total + (included ? 0 : vente), 0)\n","import React from 'react';\nimport SwipeToDelete from 'react-swipe-to-delete-ios'\nimport { Table, TableCell, TableRow, Input, Unit, BigButton, Buttons } from './styles'\nimport * as utils from './utils'\n\nconst newMission = (vente = 400, revient = 550) => ({\n  included: true,\n  mission: '',\n  duration: '',\n  vente,\n  revient,\n})\n\nclass MissionsTable extends React.Component {\n\n  state = {\n    missions: JSON.parse(window.localStorage.getItem('missions')) || [],\n    captureClient: false,\n  }\n\n  addMission = () => {\n    this.setState(({ missions }) => {\n      if (!missions.length) return { missions: [newMission()] }\n      const { vente, revient } = missions[missions.length - 1]\n      return { missions: [...missions, newMission(vente, revient)] }\n    })\n  }\n\n  handleDelete = index => {\n    this.setState(\n      ({ missions }) => ({ missions: missions.filter((_, ind) => ind !== index) }),\n      () => this.save()\n    )\n  }\n\n  handleIncluded = (e) => {\n    const index = Number(e.target.value);\n    this.setState(({ missions }) => ({ missions: missions.map((mission, ind) => {\n      if (ind !== index) return mission\n      return {\n        ...mission,\n        included: !mission.included\n      }\n    }) }), () => this.save())\n  }\n\n  handleChangeField = (e) => {\n    e.persist()\n    const index = Number(e.target.dataset.index);\n    this.setState(({ missions }) => ({ missions: missions.map((mission, ind) => {\n      if (ind !== index) return mission\n      return {\n        ...mission,\n        [e.target.dataset.label]: e.target.value\n      }\n    }) }), () => this.save())\n  }\n\n  save = () => {\n    window.localStorage.setItem('missions', JSON.stringify(this.state.missions))\n  }\n\n  handleCancelEvent = e => {\n    e.preventDefault()\n    e.stopPropagation()\n  }\n\n  toggleCaptureClient = () => this.setState(({ captureClient }) => ({ captureClient: !captureClient }))\n\n  render() {\n    const { missions, captureClient } = this.state;\n    return(\n      <>\n        <Buttons>\n          <BigButton onClick={this.addMission}>\n              Ajouter une mission\n          </BigButton>\n          <BigButton onClick={this.props.changeHoursPerDay}>\n              Changer le nombre d'heures par jour ({window.localStorage.getItem('hoursPerDay')})\n          </BigButton>\n          <BigButton highlight={captureClient} onClick={this.toggleCaptureClient}>\n              Capture client\n          </BigButton>\n        </Buttons>\n        <Table hideCells={captureClient}>\n          <TableRow header>\n            <TableCell data-type=\"check\">Inclure</TableCell>\n            <TableCell data-type=\"mission\">Mission</TableCell>\n            <TableCell data-type=\"duration\">Durée (HHhMM)</TableCell>\n            <TableCell data-type=\"calcul-duree\">Durée{captureClient ? '' : ' équivalente'}</TableCell>\n            <TableCell data-type=\"vente\">TJM{captureClient ? '' : ' de vente'} (€&nbsp;HT&nbsp;/&nbsp;j)</TableCell>\n            <TableCell data-type=\"revient\">TJM de revient (€&nbsp;HT&nbsp;/&nbsp;j)</TableCell>\n            <TableCell data-type=\"calcul-revient\">Facturable HT</TableCell>\n          </TableRow>\n          {missions.map((mission, ind) => {\n            const { included, mission: nom, duration, vente, revient } = mission\n            if (!included && captureClient) return null\n            return (\n              <SwipeToDelete\n                onDelete={() => this.handleDelete(ind)}\n                deleteColor=\"#137102\"\n                deleteText=\"Supprimer\"\n                height={50}\n                key={ind}\n              >\n                <TableRow>\n                  <TableCell as=\"button\" data-type=\"check\" value={ind} onClick={this.handleIncluded}>\n                      <input\n                        key={included}\n                        type=\"checkbox\"\n                        checked={included}\n                        value={ind}\n                        onChange={this.handleIncluded}\n                        onClick={this.handleCancelEvent}\n                      />\n                    </TableCell>\n                  <TableCell data-type=\"mission\">\n                    <Input\n                      key={included}\n                      type=\"text\"\n                      value={nom}\n                      data-index={ind}\n                      data-label=\"mission\"\n                      onChange={this.handleChangeField}\n                    />\n                  </TableCell>\n                  <TableCell data-type=\"duration\">\n                    <Input\n                      key={included}\n                      type=\"text\"\n                      value={duration}\n                      data-index={ind}\n                      restricted\n                      data-label=\"duration\"\n                      onChange={this.handleChangeField}\n                    />\n                  </TableCell>\n                  <TableCell data-type=\"calcul-duree\">{utils.computeRevientDuration(mission)}</TableCell>\n                  <TableCell data-type=\"vente\">\n                    <Input\n                      key={included}\n                      type=\"text\"\n                      value={vente}\n                      data-index={ind}\n                      data-label=\"vente\"\n                      restricted\n                      onChange={this.handleChangeField}\n                      alignRight\n                    />\n                    {vente && <Unit>€&nbsp;HT&nbsp;/&nbsp;j</Unit>}\n                  </TableCell>\n                  <TableCell data-type=\"revient\">\n                    <Input\n                      key={included}\n                      type=\"text\"\n                      value={revient}\n                      data-index={ind}\n                      data-label=\"revient\"\n                      restricted\n                      onChange={this.handleChangeField}\n                      alignRight\n                    />\n                    {revient && <Unit>€&nbsp;HT&nbsp;/&nbsp;j</Unit>}\n                  </TableCell>\n                  <TableCell data-type=\"calcul-revient\">{utils.computeFacturable(mission)}</TableCell>\n                </TableRow>\n              </SwipeToDelete>\n            )\n          })}\n          <TableRow footer>\n            <TableCell data-type=\"check\" />\n            <TableCell data-type=\"mission\">TOTAL</TableCell>\n            <TableCell data-type=\"duration\">{utils.computeTotalDuration(missions)}</TableCell>\n            <TableCell data-type=\"calcul-duree\">{utils.computeTotalRevientDuration(missions)}</TableCell>\n            <TableCell data-type=\"vente\" />\n            <TableCell data-type=\"revient\" />\n            <TableCell data-type=\"calcul-revient\">{utils.computeTotalFacturable(missions)} €&nbsp;HT</TableCell>\n          </TableRow>\n        </Table>\n      </>\n     )\n  }\n}\n\nexport default MissionsTable;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { BigButton, Buttons } from './styles';\n\nclass Modale extends React.Component {\n\n  state = {\n    value: this.props.initValue || ''\n  }\n\n  handleChange = e => {\n    const { value } = e.target;\n    this.setState({ value }, () => {\n      this.props.onChange(value)\n    })\n  }\n\n  handleClick = () => this.props.onRemoveModal(this.state.value)\n  handleCancel = () => this.props.onRemoveModal(this.props.initValue)\n\n  render() {\n    const { placeholder, background, title, onRemoveModal, initValue } = this.props;\n    return(\n      <ModaleStyled background={background}>\n        <Alert>\n          <Title>{title}</Title>\n          <Input\n            type=\"password\"\n            autoFocus\n            onChange={this.handleChange}\n            placeholder={placeholder || initValue}\n          />\n          {onRemoveModal && (\n            <Buttons>\n              <BigButton type=\"submit\" onSubmit={this.handleClick} onClick={this.handleClick}>Valider</BigButton>\n              <BigButton onClick={this.handleCancel}>Annuler</BigButton>\n            </Buttons>\n          )}\n        </Alert>\n      </ModaleStyled>\n     )\n  }\n}\n\nModale.defaultProps = {\n  onChange: () => null,\n  onRemoveModal: null,\n}\n\nconst ModaleStyled = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: ${props => props.background || '#00000099'};\n`\n\nconst Alert = styled.form`\n  width: 500px;\n  height: 300px;\n  border-radius: 15px;\n  background: white;\n  flex-direction: column;\n`\n\nconst Title = styled.span`\n  font-size: 20px;\n  margin-bottom: 30px;\n  font-weight: bold;\n`;\n\nconst Input = styled.input`\n  border-radius: 10px;\n  border: 1px solid #24b100;\n  width: 80%;\n  height: 40px;\n  text-align: center;\n  margin-bottom: 30px;\n`\n\nexport default Modale;\n","import React from 'react';\nimport Modale from './Modale';\nimport md5 from 'md5'\n\nclass Password extends React.Component {\n\n  handlePasswordChange = password => {\n    const hashedPass = md5(password)\n    if (hashedPass === process.env.REACT_APP_PASSWORD) this.props.removeModal()\n  }\n\n  render() {\n    return(\n      <Modale\n        title=\"Mot de passe\"\n        placeholder=\"Mot de passe\"\n        onChange={this.handlePasswordChange}\n        background=\"#000\"\n      />\n     )\n  }\n}\n\nexport default Password;\n","import React from 'react';\nimport GlobalStyle, { Container } from './styles'\nimport MissionsTable from './MissionsTable';\nimport Password from './Password';\nimport Modale from './Modale';\n\nclass App extends React.Component {\n\n  state = { showPassword: true, showHoursPerDay: false }\n\n  componentDidMount() {\n    const hoursPerDay = window.localStorage.getItem('hoursPerDay');\n    if (!hoursPerDay) window.localStorage.setItem('hoursPerDay', 7)\n  }\n\n  removePassword = () => this.setState({ showPassword: false })\n\n  showChangeHoursPerDay = () => this.setState({ showHoursPerDay: true })\n  hideChangeHoursPerDay = hours => {\n    window.localStorage.setItem('hoursPerDay', hours)\n    this.setState({ showHoursPerDay: false })\n  }\n\n  render() {\n    const { showPassword, showHoursPerDay } = this.state;\n    return(\n      <>\n        <GlobalStyle/>\n        <Container>\n          <MissionsTable changeHoursPerDay={this.showChangeHoursPerDay}/>\n          {showPassword && <Password removeModal={this.removePassword}/>}\n          {showHoursPerDay && (\n            <Modale\n              title=\"Changer le nombre d'heures par jour\"\n              onRemoveModaloread={this.hideChangeHoursPerDay}\n              initValue={window.localStorage.getItem('hoursPerDay')}\n            />\n          )}\n        </Container>\n      </>\n     )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}